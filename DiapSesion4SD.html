<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Sistemas Digitales - Semana 4 | Universidad del SABES</title>
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: white;
            margin: 0;
            overflow-x: auto;
            overflow-y: auto;
        }

        .presentation-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .header-center {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .university-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .university-logo {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #3498db, #f39c12);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .course-info h1 {
            font-size: 1.3rem;
            color: #ffd700;
            margin-bottom: 2px;
        }

        .course-info p {
            font-size: 0.7rem;
            opacity: 0.7;
            line-height: 1.2;
            margin: 1px 0;
        }

        .session-timer {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .timer-display {
            background: rgba(255, 107, 107, 0.2);
            padding: 10px 20px;
            border-radius: 25px;
            border: 2px solid rgba(255, 107, 107, 0.5);
            font-size: 1.3rem;
            font-weight: bold;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from {
                box-shadow: 0 0 5px rgba(255, 107, 107, 0.5);
            }
            to {
                box-shadow: 0 0 20px rgba(255, 107, 107, 0.8);
            }
        }

        .timer-controls {
            display: flex;
            gap: 10px;
        }

        .timer-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .timer-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
            transform: scale(1.1);
        }

        .nav-btn-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .nav-btn-header:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .nav-btn-header:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .slide-counter {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 20px;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .slide-counter div:first-child {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-bottom: 2px;
        }

        .slide-counter div:last-child {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .progress-indicator {
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #00c9ff, #92fe9d);
            width: 6.67%;
            transition: width 0.3s ease;
        }

        .slide-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            position: relative;
        }

        .slide {
            max-width: 1200px;
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.2);
            padding: 40px;
            text-align: center;
            display: none;
            animation: slideIn 0.5s ease-in-out;
        }

        .slide.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide h1 {
            font-size: 2.8rem;
            margin-bottom: 25px;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .slide h2 {
            font-size: 2.3rem;
            margin-bottom: 20px;
            color: #87ceeb;
        }

        .slide h3 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #e8f4fd;
        }

        .slide p {
            font-size: 1.3rem;
            line-height: 1.6;
            margin-bottom: 20px;
            opacity: 0.9;
        }

        .slide ul {
            text-align: left;
            max-width: 800px;
            margin: 0 auto;
        }

        .slide li {
            font-size: 1.2rem;
            margin-bottom: 15px;
            padding-left: 10px;
            position: relative;
        }

        .slide li::before {
            content: "⚡";
            position: absolute;
            left: -30px;
        }

        .clippy-tip {
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid rgba(255, 215, 0, 0.5);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .clippy-tip:hover {
            background: rgba(255, 215, 0, 0.3);
            transform: translateY(-2px);
        }

        .clippy-tip::before {
            content: "📎";
            position: absolute;
            top: -10px;
            left: 15px;
            background: #1e3c72;
            padding: 5px 10px;
            border-radius: 50%;
            font-size: 1.2rem;
        }

        .clippy-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .clippy-content.active {
            max-height: 500px;
            margin-top: 10px;
        }

        .clippy-header {
            color: #ffd700;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .collapsible {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 15px 20px;
            width: 100%;
            text-align: left;
            font-size: 1.1rem;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px 0;
            transition: all 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .collapsible:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .collapsible.active {
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid rgba(255, 215, 0, 0.5);
        }

        .content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .content.active {
            max-height: 1000px;
            padding: 20px 0;
        }

        .exercise-box {
            background: rgba(0, 255, 127, 0.1);
            border: 2px solid rgba(0, 255, 127, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .steps-container {
            text-align: left;
            margin: 20px 0;
        }

        .step {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 4px solid #ffd700;
        }

        /* Estilos para Mapa de Karnaugh */
        .karnaugh-map {
            display: grid;
            grid-template-columns: 60px repeat(4, 60px);
            grid-template-rows: 40px repeat(4, 60px);
            gap: 2px;
            margin: 20px auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 10px;
            max-width: fit-content;
        }

        .karnaugh-label {
            background: rgba(0, 191, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border-radius: 5px;
            font-size: 0.9rem;
        }

        .karnaugh-cell {
            background: rgba(255, 255, 255, 0.8);
            color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .karnaugh-cell:hover {
            background: rgba(255, 215, 0, 0.8);
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .karnaugh-cell.selected {
            background: rgba(0, 255, 0, 0.8);
            color: white;
            font-weight: bold;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.6);
        }

        .karnaugh-cell.grouped {
            background: rgba(255, 165, 0, 0.8);
            color: white;
            border: 3px solid #ff6b35;
            box-shadow: 0 0 15px rgba(255, 165, 0, 0.6);
        }

        .karnaugh-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .karnaugh-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .karnaugh-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .karnaugh-btn:active {
            transform: translateY(0);
            background: linear-gradient(135deg, #5a67d8 0%, #667eea 100%);
        }

        .expression-display {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            border: 2px solid rgba(255, 215, 0, 0.5);
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .truth-table {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 20px auto;
            max-width: 600px;
        }

        .truth-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .truth-table th, .truth-table td {
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 10px;
            text-align: center;
        }

        .truth-table th {
            background: rgba(255, 215, 0, 0.3);
            font-weight: bold;
        }

        .truth-table td {
            background: rgba(255, 255, 255, 0.1);
        }

        .intro-slide {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(0, 191, 255, 0.1));
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 10px;
                padding: 15px;
            }
            
            .header-center {
                order: -1;
            }
            
            .slide {
                padding: 30px 20px;
            }
            
            .slide h1 {
                font-size: 2rem;
            }
            
            .slide h2 {
                font-size: 1.8rem;
            }
            
            .slide p {
                font-size: 1.1rem;
            }

            .karnaugh-map {
                grid-template-columns: 40px repeat(4, 40px);
                grid-template-rows: 30px repeat(4, 40px);
            }

            .karnaugh-cell {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <!-- Header with Navigation and Timer -->
        <div class="header">
            <div class="header-left">
                <div class="university-info">
                    <div class="university-logo">⚡</div>
                    <div class="course-info">
                        <h1>SISTEMAS DIGITALES</h1>
                        <p>Universidad del SABES | Semana 4 de 12 | 07 de junio 2025</p>
                        <p>Prof. Fausto Noé Jiménez | <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1b6b69747d7e6874695b687a797e68357e7f6e">[email&#160;protected]</a></p>
                    </div>
                </div>
            </div>
            <div class="header-center">
                <button class="nav-btn-header" id="prevBtn">
                    ⬅️ Anterior
                </button>
                <div class="slide-counter">
                    <div>Diapositiva</div>
                    <div><span id="currentSlide">1</span> / <span id="totalSlides">10</span></div>
                </div>
                <button class="nav-btn-header" id="nextBtn">
                    Siguiente ➡️
                </button>
            </div>
            <div class="header-right">
                <div class="session-timer">
                    <div class="timer-display" id="sessionTimer">
                        ⏱️ <span id="timeRemaining">40:00</span>
                    </div>
                    <div class="timer-controls">
                        <button class="timer-btn" id="startBtn">▶️</button>
                        <button class="timer-btn" id="pauseBtn">⏸️</button>
                        <button class="timer-btn" id="resetBtn">🔄</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Progress Bar -->
        <div class="progress-indicator">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <!-- Slides -->
        <div class="slide-container">
            <!-- Slide 1: Título -->
            <div class="slide active intro-slide">
                <h1>🔍 ANÁLISIS Y SIMPLIFICACIÓN DE CIRCUITOS</h1>
                <div style="font-size: 8rem; margin: 30px 0;">🧮📊⚡</div>
                <h3>Semana 4: Análisis Sistemático y Tablas de Verdad</h3>
                <p><strong>Cuatrimestre:</strong> Mayo - Agosto 2025</p>
                <p><strong>Duración:</strong> 40 minutos + LAB5 Karnaugh</p>
                
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h3>🎯 Temas Principales:</h3>
                        <ul style="text-align: left; font-size: 1.1rem;">
                            <li><strong>2.4.</strong> Análisis de circuitos lógicos</li>
                            <li><strong>2.4.1.</strong> Metodología de simplificación</li>
                            <li><strong>2.4.2.</strong> Construcción de tablas de verdad</li>
                            <li><strong>2.5.</strong> Mapas de Karnaugh avanzados</li>
                        </ul>
                    </div>
                    <div class="comparison-card">
                        <h3>🔬 LAB5 Incluido:</h3>
                        <ul style="text-align: left; font-size: 1.1rem;">
                            <li>Mapa de Karnaugh interactivo</li>
                            <li>Simplificación de 4 variables</li>
                            <li>Verificación con tablas</li>
                            <li>Ejercicios prácticos</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Slide 2: Objetivos y Metodología -->
            <div class="slide">
                <h2>🎯 OBJETIVOS Y METODOLOGÍA</h2>
                
                <div class="clippy-tip" onclick="toggleClippy(this)">
                    <div class="clippy-header">💡 Clippy Tip: Análisis vs Diseño</div>
                    <div class="clippy-content">
                        <p><strong>ANÁLISIS:</strong> Circuito existente → Función lógica</p>
                        <p><strong>DISEÑO:</strong> Especificación → Circuito óptimo</p>
                        <p>En análisis partimos del hardware hacia la función. En diseño hacemos el camino inverso.</p>
                    </div>
                </div>

                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>📋 Objetivos de Aprendizaje</h4>
                        <ul>
                            <li><strong>Analizar</strong> circuitos existentes sistemáticamente</li>
                            <li><strong>Construir</strong> tablas de verdad completas</li>
                            <li><strong>Aplicar</strong> simplificación algebraica</li>
                            <li><strong>Utilizar</strong> mapas de Karnaugh para 3-4 variables</li>
                            <li><strong>Verificar</strong> resultados con múltiples métodos</li>
                        </ul>
                    </div>
                    <div class="comparison-card">
                        <h4>⚡ Metodología de Trabajo</h4>
                        <div class="steps-container">
                            <div class="step">
                                <strong>1. Identificación:</strong> Entradas, salidas y compuertas
                            </div>
                            <div class="step">
                                <strong>2. Análisis:</strong> Expresión booleana paso a paso
                            </div>
                            <div class="step">
                                <strong>3. Verificación:</strong> Tabla de verdad completa
                            </div>
                            <div class="step">
                                <strong>4. Optimización:</strong> Simplificación y Karnaugh
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 3: Proceso de Análisis Detallado -->
            <div class="slide">
                <h2>🔍 PROCESO DE ANÁLISIS SISTEMÁTICO</h2>
                
                <button class="collapsible" onclick="toggleCollapsible(this)">
                    📊 Metodología Paso a Paso <span>▼</span>
                </button>
                <div class="content">
                    <div class="steps-container">
                        <div class="step">
                            <strong>PASO 1 - Inventario:</strong> Listar todas las entradas (A, B, C...) y identificar la salida (Y, F...)
                        </div>
                        <div class="step">
                            <strong>PASO 2 - Trazado:</strong> Seguir el flujo desde entradas hasta salida, anotando cada operación
                        </div>
                        <div class="step">
                            <strong>PASO 3 - Expresión:</strong> Escribir la función booleana completa F = ...
                        </div>
                        <div class="step">
                            <strong>PASO 4 - Tabla:</strong> Evaluar todas las combinaciones posibles (2ⁿ filas)
                        </div>
                        <div class="step">
                            <strong>PASO 5 - Verificación:</strong> Comprobar que cada fila de la tabla coincide con el circuito
                        </div>
                    </div>
                </div>

                <div class="exercise-box">
                    <h4>🔧 Ejemplo Práctico: Circuito AND-OR</h4>
                    <p><strong>Circuito:</strong> F = (A·B) + (C·D)</p>
                    <p><strong>Análisis:</strong></p>
                    <ul style="text-align: left; margin-left: 20px;">
                        <li>Entrada 1: A·B (AND de A y B)</li>
                        <li>Entrada 2: C·D (AND de C y D)</li>
                        <li>Salida: OR de las dos entradas anteriores</li>
                        <li>Tabla de verdad: 16 filas (2⁴ = 16)</li>
                    </ul>
                </div>

                <div class="clippy-tip" onclick="toggleClippy(this)">
                    <div class="clippy-header">⚠️ Errores Comunes</div>
                    <div class="clippy-content">
                        <p><strong>Error 1:</strong> Olvidar evaluar todas las combinaciones</p>
                        <p><strong>Error 2:</strong> Confundir orden de operaciones (paréntesis)</p>
                        <p><strong>Error 3:</strong> No verificar casos extremos (todos 0s, todos 1s)</p>
                    </div>
                </div>
            </div>

            <!-- Slide 4: Construcción de Tablas de Verdad -->
            <div class="slide">
                <h2>📊 CONSTRUCCIÓN DE TABLAS DE VERDAD</h2>
                
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>📋 Estructura de la Tabla</h4>
                        <div class="truth-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>A</th>
                                        <th>B</th>
                                        <th>C</th>
                                        <th>A·B</th>
                                        <th>A+C</th>
                                        <th>F</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
                                    <tr><td>0</td><td>0</td><td>1</td><td>0</td><td>1</td><td>1</td></tr>
                                    <tr><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td></tr>
                                    <tr><td>0</td><td>1</td><td>1</td><td>0</td><td>1</td><td>1</td></tr>
                                    <tr><td>1</td><td>0</td><td>0</td><td>0</td><td>1</td><td>1</td></tr>
                                    <tr><td>1</td><td>0</td><td>1</td><td>0</td><td>1</td><td>1</td></tr>
                                    <tr><td>1</td><td>1</td><td>0</td><td>1</td><td>1</td><td>1</td></tr>
                                    <tr><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="comparison-card">
                        <h4>⚡ Reglas de Construcción</h4>
                        <ul>
                            <li><strong>Filas:</strong> 2ⁿ combinaciones (n = variables)</li>
                            <li><strong>Orden:</strong> Binario secuencial (000, 001, 010...)</li>
                            <li><strong>Columnas intermedias:</strong> Para operaciones complejas</li>
                            <li><strong>Verificación:</strong> Cada fila debe ser correcta</li>
                        </ul>
                        
                        <div class="exercise-box">
                            <h4>🎯 Práctica Rápida</h4>
                            <p>Para la función F = A·(B+C)</p>
                            <p><strong>¿Cuántas filas necesita la tabla?</strong></p>
                            <p style="color: #90EE90;"><strong>Respuesta:</strong> 8 filas (2³ = 8)</p>
                        </div>
                    </div>
                </div>

                <div class="steps-container">
                    <h4>📝 Proceso Step-by-Step:</h4>
                    <div class="step">
                        <strong>1. Determinar variables:</strong> Contar entradas independientes
                    </div>
                    <div class="step">
                        <strong>2. Crear columnas:</strong> Una por variable + intermedias + salida
                    </div>
                    <div class="step">
                        <strong>3. Llenar entradas:</strong> Orden binario secuencial
                    </div>
                    <div class="step">
                        <strong>4. Calcular intermedias:</strong> Operaciones parciales
                    </div>
                    <div class="step">
                        <strong>5. Calcular salida:</strong> Resultado final por fila
                    </div>
                </div>
            </div>

            <!-- Slide 5: Simplificación Algebraica -->
            <div class="slide">
                <h2>🔧 SIMPLIFICACIÓN ALGEBRAICA</h2>
                
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>📚 Leyes Fundamentales</h4>
                        <ul style="font-size: 1rem;">
                            <li><strong>Identidad:</strong> A + 0 = A, A · 1 = A</li>
                            <li><strong>Complemento:</strong> A + Ā = 1, A · Ā = 0</li>
                            <li><strong>Idempotencia:</strong> A + A = A, A · A = A</li>
                            <li><strong>Conmutativa:</strong> A + B = B + A</li>
                            <li><strong>Asociativa:</strong> (A + B) + C = A + (B + C)</li>
                            <li><strong>Distributiva:</strong> A(B + C) = AB + AC</li>
                            <li><strong>De Morgan:</strong> (A + B)' = A' · B'</li>
                        </ul>
                    </div>
                    <div class="comparison-card">
                        <h4>⚡ Técnicas de Simplificación</h4>
                        <div class="steps-container">
                            <div class="step">
                                <strong>Factorización:</strong> AB + AC = A(B + C)
                            </div>
                            <div class="step">
                                <strong>Absorción:</strong> A + AB = A
                            </div>
                            <div class="step">
                                <strong>Consenso:</strong> AB + AC + BC = AB + AC
                            </div>
                            <div class="step">
                                <strong>De Morgan:</strong> Cambiar AND/OR y negar
                            </div>
                        </div>
                    </div>
                </div>

                <div class="exercise-box">
                    <h4>🧮 Ejemplo de Simplificación</h4>
                    <p><strong>Función original:</strong> F = ABC + ABC̄ + ĀBC</p>
                    
                    <button class="collapsible" onclick="toggleCollapsible(this)">
                        Ver proceso paso a paso <span>▼</span>
                    </button>
                    <div class="content">
                        <div class="steps-container">
                            <div class="step">
                                <strong>Paso 1:</strong> F = ABC + ABC̄ + ĀBC
                            </div>
                            <div class="step">
                                <strong>Paso 2:</strong> F = AB(C + C̄) + ĀBC (factorizar AB)
                            </div>
                            <div class="step">
                                <strong>Paso 3:</strong> F = AB(1) + ĀBC (C + C̄ = 1)
                            </div>
                            <div class="step">
                                <strong>Paso 4:</strong> F = AB + ĀBC (A · 1 = A)
                            </div>
                            <div class="step">
                                <strong>Paso 5:</strong> F = B(A + ĀC) (factorizar B)
                            </div>
                            <div class="step">
                                <strong>Resultado:</strong> F = B(A + C) (absorción: A + ĀC = A + C)
                            </div>
                        </div>
                        <p style="color: #90EE90;"><strong>¡De 3 términos a solo 1!</strong></p>
                    </div>
                </div>
            </div>

            <!-- Slide 6: Introducción a Mapas de Karnaugh -->
            <div class="slide">
                <h2>🗺️ INTRODUCCIÓN A MAPAS DE KARNAUGH</h2>
                
                <div class="clippy-tip" onclick="toggleClippy(this)">
                    <div class="clippy-header">🎯 ¿Por qué Mapas de Karnaugh?</div>
                    <div class="clippy-content">
                        <p><strong>Ventaja 1:</strong> Visualización gráfica de la función</p>
                        <p><strong>Ventaja 2:</strong> Identificación rápida de grupos</p>
                        <p><strong>Ventaja 3:</strong> Garantiza simplificación óptima</p>
                        <p><strong>Ventaja 4:</strong> Menos propenso a errores que álgebra</p>
                    </div>
                </div>

                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>📊 Conceptos Básicos</h4>
                        <ul>
                            <li><strong>Mapa:</strong> Representación gráfica de tabla de verdad</li>
                            <li><strong>Celda:</strong> Cada cuadro representa un mintérmino</li>
                            <li><strong>Adyacencia:</strong> Celdas que difieren en 1 bit</li>
                            <li><strong>Grupo:</strong> Celdas adyacentes con valor 1</li>
                            <li><strong>Término producto:</strong> Resultado de cada grupo</li>
                        </ul>
                    </div>
                    <div class="comparison-card">
                        <h4>🎲 Ejemplo: Mapa 2 Variables</h4>
                        <div style="display: grid; grid-template-columns: 40px 50px 50px; gap: 2px; margin: 20px auto; max-width: fit-content;">
                            <div></div>
                            <div style="background: rgba(0,191,255,0.3); padding: 10px; text-align: center; border-radius: 5px;">B̄</div>
                            <div style="background: rgba(0,191,255,0.3); padding: 10px; text-align: center; border-radius: 5px;">B</div>
                            <div style="background: rgba(0,191,255,0.3); padding: 10px; text-align: center; border-radius: 5px;">Ā</div>
                            <div style="background: rgba(255,255,255,0.8); color: black; padding: 10px; text-align: center; border-radius: 5px;">0</div>
                            <div style="background: rgba(255,255,255,0.8); color: black; padding: 10px; text-align: center; border-radius: 5px;">1</div>
                            <div style="background: rgba(0,191,255,0.3); padding: 10px; text-align: center; border-radius: 5px;">A</div>
                            <div style="background: rgba(255,255,255,0.8); color: black; padding: 10px; text-align: center; border-radius: 5px;">0</div>
                            <div style="background: rgba(255,255,255,0.8); color: black; padding: 10px; text-align: center; border-radius: 5px;">1</div>
                        </div>
                        <p style="text-align: center; color: #90EE90;"><strong>F = B</strong> (columna B es toda 1s)</p>
                    </div>
                </div>

                <div class="exercise-box">
                    <h4>⚡ Ventajas vs Álgebra Booleana</h4>
                    <div class="comparison-grid">
                        <div style="background: rgba(255,0,0,0.1); padding: 15px; border-radius: 10px;">
                            <h5>❌ Álgebra Booleana</h5>
                            <ul style="font-size: 0.9rem;">
                                <li>Muchos pasos intermedios</li>
                                <li>Propenso a errores</li>
                                <li>No garantiza mínimo</li>
                                <li>Difícil ver patrones</li>
                            </ul>
                        </div>
                        <div style="background: rgba(0,255,0,0.1); padding: 15px; border-radius: 10px;">
                            <h5>✅ Mapas de Karnaugh</h5>
                            <ul style="font-size: 0.9rem;">
                                <li>Visualización directa</li>
                                <li>Menos errores</li>
                                <li>Siempre óptimo</li>
                                <li>Patrones evidentes</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 7: Mapas de Karnaugh - 3 Variables -->
            <div class="slide">
                <h2>🗺️ MAPAS DE KARNAUGH - 3 VARIABLES</h2>
                
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>📋 Estructura y Orden</h4>
                        <div style="display: grid; grid-template-columns: 40px repeat(4, 50px); grid-template-rows: 40px repeat(2, 50px); gap: 2px; margin: 20px auto; max-width: fit-content;">
                            <div></div>
                            <div class="karnaugh-label">BC̄</div>
                            <div class="karnaugh-label">BC</div>
                            <div class="karnaugh-label">BC</div>
                            <div class="karnaugh-label">BC̄</div>
                            <div class="karnaugh-label">Ā</div>
                            <div class="karnaugh-cell" style="font-size: 0.8rem;">0</div>
                            <div class="karnaugh-cell" style="font-size: 0.8rem;">1</div>
                            <div class="karnaugh-cell" style="font-size: 0.8rem;">3</div>
                            <div class="karnaugh-cell" style="font-size: 0.8rem;">2</div>
                            <div class="karnaugh-label">A</div>
                            <div class="karnaugh-cell" style="font-size: 0.8rem;">4</div>
                            <div class="karnaugh-cell" style="font-size: 0.8rem;">5</div>
                            <div class="karnaugh-cell" style="font-size: 0.8rem;">7</div>
                            <div class="karnaugh-cell" style="font-size: 0.8rem;">6</div>
                        </div>
                        <div class="expression-display">
                            Orden Gray: 00, 01, 11, 10
                        </div>
                    </div>
                    <div class="comparison-card">
                        <h4>🎯 Reglas de Agrupación</h4>
                        <ul>
                            <li><strong>Tamaños válidos:</strong> 1, 2, 4, 8 celdas</li>
                            <li><strong>Forma:</strong> Rectángulos o cuadrados únicamente</li>
                            <li><strong>Adyacencia:</strong> Incluye bordes "envolventes"</li>
                            <li><strong>Objetivo:</strong> Grupos más grandes posibles</li>
                            <li><strong>Cobertura:</strong> Todos los 1s deben estar cubiertos</li>
                        </ul>
                    </div>
                </div>

                <div class="exercise-box">
                    <h4>🧮 Ejemplo Práctico: F = Σ(1,3,5,7)</h4>
                    
                    <button class="collapsible" onclick="toggleCollapsible(this)">
                        Ver solución paso a paso <span>▼</span>
                    </button>
                    <div class="content">
                        <div style="display: grid; grid-template-columns: 40px repeat(4, 50px); grid-template-rows: 40px repeat(2, 50px); gap: 2px; margin: 20px auto; max-width: fit-content; background: rgba(255,255,255,0.1); padding: 10px; border-radius: 10px;">
                            <div></div>
                            <div class="karnaugh-label">BC̄</div>
                            <div class="karnaugh-label">BC</div>
                            <div class="karnaugh-label">BC</div>
                            <div class="karnaugh-label">BC̄</div>
                            <div class="karnaugh-label">Ā</div>
                            <div style="background: white; color: black; padding: 10px; text-align: center; border-radius: 5px;">0</div>
                            <div style="background: lime; color: white; padding: 10px; text-align: center; border-radius: 5px; font-weight: bold;">1</div>
                            <div style="background: lime; color: white; padding: 10px; text-align: center; border-radius: 5px; font-weight: bold;">1</div>
                            <div style="background: white; color: black; padding: 10px; text-align: center; border-radius: 5px;">0</div>
                            <div class="karnaugh-label">A</div>
                            <div style="background: white; color: black; padding: 10px; text-align: center; border-radius: 5px;">0</div>
                            <div style="background: lime; color: white; padding: 10px; text-align: center; border-radius: 5px; font-weight: bold;">1</div>
                            <div style="background: lime; color: white; padding: 10px; text-align: center; border-radius: 5px; font-weight: bold;">1</div>
                            <div style="background: white; color: black; padding: 10px; text-align: center; border-radius: 5px;">0</div>
                        </div>
                        <div class="steps-container">
                            <div class="step">
                                <strong>Paso 1:</strong> Ubicar 1s en celdas 1, 3, 5, 7
                            </div>
                            <div class="step">
                                <strong>Paso 2:</strong> Formar grupo vertical: celdas 1 y 5 → BC̄
                            </div>
                            <div class="step">
                                <strong>Paso 3:</strong> Formar grupo vertical: celdas 3 y 7 → BC
                            </div>
                            <div class="step">
                                <strong>Resultado:</strong> F = BC̄ + BC = B(C̄ + C) = B
                            </div>
                        </div>
                        <p style="color: #90EE90; text-align: center;"><strong>¡Simplificación: F = B!</strong></p>
                    </div>
                </div>

                <div class="steps-container">
                    <h4>📝 Proceso de Minimización:</h4>
                    <div class="step">
                        <strong>1. Llenar el mapa:</strong> Ubicar 1s según mintérminos de la función
                    </div>
                    <div class="step">
                        <strong>2. Identificar grupos:</strong> Formar rectángulos de tamaño potencia de 2
                    </div>
                    <div class="step">
                        <strong>3. Escribir términos:</strong> Para cada grupo, eliminar variables que cambian
                    </div>
                    <div class="step">
                        <strong>4. Función final:</strong> Sumar todos los términos de grupo (OR)
                    </div>
                </div>
            </div>

            <!-- Slide 8: Mapa Interactivo de Karnaugh -->
            <div class="slide">
                <h2>🖱️ MAPA DE KARNAUGH INTERACTIVO - 4 VARIABLES</h2>
                
                <div class="karnaugh-map" id="karnaughMap">
                    <!-- Headers -->
                    <div></div>
                    <div class="karnaugh-label">C̄D̄</div>
                    <div class="karnaugh-label">C̄D</div>
                    <div class="karnaugh-label">CD</div>
                    <div class="karnaugh-label">CD̄</div>
                    <!-- Row 1: ĀB̄ -->
                    <div class="karnaugh-label">ĀB̄</div>
                    <div class="karnaugh-cell" data-index="0">0</div>
                    <div class="karnaugh-cell" data-index="1">0</div>
                    <div class="karnaugh-cell" data-index="3">0</div>
                    <div class="karnaugh-cell" data-index="2">0</div>
                    <!-- Row 2: ĀB -->
                    <div class="karnaugh-label">ĀB</div>
                    <div class="karnaugh-cell" data-index="4">0</div>
                    <div class="karnaugh-cell" data-index="5">0</div>
                    <div class="karnaugh-cell" data-index="7">0</div>
                    <div class="karnaugh-cell" data-index="6">0</div>
                    <!-- Row 3: AB -->
                    <div class="karnaugh-label">AB</div>
                    <div class="karnaugh-cell" data-index="12">0</div>
                    <div class="karnaugh-cell" data-index="13">0</div>
                    <div class="karnaugh-cell" data-index="15">0</div>
                    <div class="karnaugh-cell" data-index="14">0</div>
                    <!-- Row 4: AB̄ -->
                    <div class="karnaugh-label">AB̄</div>
                    <div class="karnaugh-cell" data-index="8">0</div>
                    <div class="karnaugh-cell" data-index="9">0</div>
                    <div class="karnaugh-cell" data-index="11">0</div>
                    <div class="karnaugh-cell" data-index="10">0</div>
                </div>

                <div class="karnaugh-controls">
                    <button class="karnaugh-btn" onclick="clearMap()">🔄 Limpiar</button>
                    <button class="karnaugh-btn" onclick="loadExample()">📝 Ejemplo</button>
                    <button class="karnaugh-btn" onclick="findGroups()">🔍 Agrupar</button>
                    <button class="karnaugh-btn" onclick="showExpression()">📋 Expresión</button>
                </div>

                <div class="expression-display" id="karnaughExpression">
                    Haz clic en las celdas para marcar 1s, luego usa los botones para interactuar
                </div>

                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>🎮 Instrucciones de Uso</h4>
                        <ul>
                            <li><strong>Clic en celda:</strong> Alternar entre 0 y 1</li>
                            <li><strong>Limpiar:</strong> Resetear todas las celdas a 0</li>
                            <li><strong>Ejemplo:</strong> Cargar función predefinida</li>
                            <li><strong>Agrupar:</strong> Detectar grupos automáticamente</li>
                            <li><strong>Expresión:</strong> Mostrar función simplificada</li>
                        </ul>
                    </div>
                    <div class="comparison-card">
                        <h4>⚡ Reglas de Agrupación 4 Variables</h4>
                        <ul>
                            <li><strong>Tamaños:</strong> 1, 2, 4, 8, 16 celdas</li>
                            <li><strong>Formas válidas:</strong> Rectángulos únicamente</li>
                            <li><strong>Envolvente:</strong> Bordes superior/inferior y izquierdo/derecho se tocan</li>
                            <li><strong>Esquinas:</strong> Las 4 esquinas son adyacentes</li>
                            <li><strong>Objetivo:</strong> Menor número de grupos más grandes</li>
                        </ul>
                    </div>
                </div>

                <div class="exercise-box">
                    <h4>🎯 Ejercicio Práctico</h4>
                    <p><strong>Función a implementar:</strong> F = Σ(0,2,5,7,8,10,13,15)</p>
                    <p><strong>Pasos:</strong></p>
                    <ol style="text-align: left; margin-left: 20px;">
                        <li>Hacer clic en las celdas correspondientes</li>
                        <li>Usar el botón "Agrupar" para ver agrupaciones</li>
                        <li>Obtener la expresión simplificada</li>
                    </ol>
                </div>
            </div>

            <!-- Slide 9: Técnicas Avanzadas -->
            <div class="slide">
                <h2>🚀 TÉCNICAS AVANZADAS DE KARNAUGH</h2>
                
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>❓ Condiciones Don't Care</h4>
                        <ul>
                            <li><strong>Símbolo:</strong> X o φ (phi)</li>
                            <li><strong>Significado:</strong> El valor puede ser 0 ó 1</li>
                            <li><strong>Uso:</strong> Para formar grupos más grandes</li>
                            <li><strong>Decisión:</strong> X = 1 si ayuda, X = 0 si no</li>
                        </ul>
                        
                        <div class="exercise-box">
                            <h4>🧮 Ejemplo con Don't Care</h4>
                            <p><strong>F = Σ(1,3,7) + φ(0,2,5)</strong></p>
                            <div style="font-size: 0.9rem;">
                                <p>Don't care en 0,2,5 permite formar:</p>
                                <p>Grupo 1: {0,1,2,3} → ĀB̄</p>
                                <p>Grupo 2: {3,7} → BC</p>
                                <p><strong>Resultado:</strong> F = Ā + BC</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="comparison-card">
                        <h4>🔄 Agrupaciones Envolventes</h4>
                        <ul>
                            <li><strong>Bordes:</strong> Izquierdo toca derecho</li>
                            <li><strong>Bordes:</strong> Superior toca inferior</li>
                            <li><strong>Esquinas:</strong> Las 4 esquinas son adyacentes</li>
                            <li><strong>Visualización:</strong> Imaginar el mapa como un toroide</li>
                        </ul>
                        
                        <div style="display: grid; grid-template-columns: repeat(4, 40px); gap: 2px; margin: 15px auto; max-width: fit-content;">
                            <div style="background: lime; color: white; padding: 8px; text-align: center; border-radius: 3px; font-size: 0.8rem;">1</div>
                            <div style="background: white; color: black; padding: 8px; text-align: center; border-radius: 3px; font-size: 0.8rem;">0</div>
                            <div style="background: white; color: black; padding: 8px; text-align: center; border-radius: 3px; font-size: 0.8rem;">0</div>
                            <div style="background: lime; color: white; padding: 8px; text-align: center; border-radius: 3px; font-size: 0.8rem;">1</div>
                        </div>
                        <p style="text-align: center; font-size: 0.9rem;">Esquinas forman grupo: ĀC̄ + ĀC̄ = Ā</p>
                    </div>
                </div>

                <div class="clippy-tip" onclick="toggleClippy(this)">
                    <div class="clippy-header">💡 Estrategias de Agrupación</div>
                    <div class="clippy-content">
                        <p><strong>1. Buscar grupos de 8 primero</strong> (eliminan 3 variables)</p>
                        <p><strong>2. Luego grupos de 4</strong> (eliminan 2 variables)</p>
                        <p><strong>3. Después grupos de 2</strong> (eliminan 1 variable)</p>
                        <p><strong>4. Finalmente celdas individuales</strong> (no eliminan variables)</p>
                        <p><strong>5. Usar don't care estratégicamente</strong> para grupos más grandes</p>
                    </div>
                </div>

                <div class="steps-container">
                    <h4>📝 Proceso Optimizado:</h4>
                    <div class="step">
                        <strong>1. Identificar 1s obligatorios:</strong> Marcar todas las celdas con 1
                    </div>
                    <div class="step">
                        <strong>2. Buscar grupos grandes:</strong> Priorizar grupos de 8, luego 4, etc.
                    </div>
                    <div class="step">
                        <strong>3. Usar don't care:</strong> Incluir X solo si forman grupos más grandes
                    </div>
                    <div class="step">
                        <strong>4. Verificar cobertura:</strong> Todos los 1s deben estar cubiertos
                    </div>
                    <div class="step">
                        <strong>5. Minimizar grupos:</strong> Eliminar grupos redundantes
                    </div>
                </div>
            </div>

            <!-- Slide 10: Laboratorio Práctico -->
            <div class="slide">
                <h2>🔬 LABORATORIO 5: EJERCICIOS PRÁCTICOS</h2>
                
                <div class="exercise-box">
                    <h4>🎯 Objetivos del Laboratorio</h4>
                    <ul>
                        <li>Dominar mapas de 3 y 4 variables</li>
                        <li>Identificar agrupaciones óptimas</li>
                        <li>Manejar condiciones don't care</li>
                        <li>Verificar con simulación</li>
                        <li>Comparar métodos de simplificación</li>
                    </ul>
                </div>

                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>⚡ Ejercicios Prácticos</h4>
                        <ul>
                            <li><strong>Ejercicio 1:</strong> F = Σ(1,3,5,7,9,11,13,15)</li>
                            <li><strong>Ejercicio 2:</strong> F = Σ(0,4,8,12,1,5,9,13)</li>
                            <li><strong>Ejercicio 3:</strong> F = Σ(2,6,8,9,10,11,14,15)</li>
                            <li><strong>Con don't care:</strong> F = Σ(1,3,5) + φ(0,2,7)</li>
                        </ul>
                        
                        <button class="collapsible" onclick="toggleCollapsible(this)">
                            Ver soluciones <span>▼</span>
                        </button>
                        <div class="content">
                            <div class="steps-container">
                                <div class="step">
                                    <strong>Ejercicio 1:</strong> F = B (todos los 1s en columnas donde B=1)
                                </div>
                                <div class="step">
                                    <strong>Ejercicio 2:</strong> F = A ⊕ B (patrón de ajedrez)
                                </div>
                                <div class="step">
                                    <strong>Ejercicio 3:</strong> F = A + BC̄ + BD
                                </div>
                                <div class="step">
                                    <strong>Con don't care:</strong> F = Ā + C (usando don't care en 0,2)
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="comparison-card">
                        <h4>🎮 Actividad Interactiva</h4>
                        <p><strong>Usando el mapa interactivo de la diapositiva anterior:</strong></p>
                        <ol style="text-align: left; margin-left: 20px;">
                            <li>Implementar F = Σ(0,2,5,7,8,10,13,15)</li>
                            <li>Encontrar la agrupación óptima</li>
                            <li>Escribir la expresión simplificada</li>
                            <li>Verificar reducción en número de compuertas</li>
                        </ol>
                        <p><strong>Tiempo estimado:</strong> 15 minutos</p>
                    </div>
                </div>

                <div class="steps-container">
                    <h4>📝 Entregables del LAB5:</h4>
                    <div class="step">
                        <strong>1. Mapas resueltos:</strong> Todos los ejercicios con agrupaciones marcadas
                    </div>
                    <div class="step">
                        <strong>2. Expresiones simplificadas:</strong> Resultado final de cada función
                    </div>
                    <div class="step">
                        <strong>3. Verificación:</strong> Tabla de verdad para comprobar resultados
                    </div>
                    <div class="step">
                        <strong>4. Comparación:</strong> Antes vs después de simplificación
                    </div>
                </div>

                <div class="clippy-tip" onclick="toggleClippy(this)">
                    <div class="clippy-header">⏰ Cronograma de LAB5</div>
                    <div class="clippy-content">
                        <p><strong>Minutos 1-5:</strong> Ejercicio 1 (función simple)</p>
                        <p><strong>Minutos 6-10:</strong> Ejercicio 2 (función compleja)</p>
                        <p><strong>Minutos 11-15:</strong> Ejercicio 3 (con don't care)</p>
                        <p><strong>Minutos 16-20:</strong> Verificación y documentación</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // Variables globales para el mapa de Karnaugh - UNIFICADAS
        window.karnaughState = new Array(16).fill(0);
        window.groupedCells = [];
        
        // Inicialización global del mapa de Karnaugh
        function initKarnaughMapGlobal() {
            window.karnaughState = new Array(16).fill(0);
            window.groupedCells = [];
            updateKarnaughDisplayGlobal();
            updateExpressionGlobal();
        }
        
        // Función global para actualizar la visualización del mapa
        function updateKarnaughDisplayGlobal() {
            const cells = document.querySelectorAll('.karnaugh-cell');
            cells.forEach((cell, index) => {
                const dataIndex = parseInt(cell.getAttribute('data-index'));
                if (dataIndex >= 0 && dataIndex < 16) {
                    cell.textContent = window.karnaughState[dataIndex];
                    cell.classList.remove('selected', 'grouped');
                    if (window.karnaughState[dataIndex] === 1) {
                        cell.classList.add('selected');
                    }
                    if (window.groupedCells.includes(dataIndex)) {
                        cell.classList.add('grouped');
                    }
                }
            });
        }
        
        // Función global para actualizar la expresión
        function updateExpressionGlobal() {
            const expressionDiv = document.getElementById('karnaughExpression');
            if (expressionDiv) {
                const ones = window.karnaughState.map((val, idx) => val === 1 ? idx : -1).filter(idx => idx !== -1);
                if (ones.length === 0) {
                    expressionDiv.textContent = 'F = 0 (función siempre falsa)';
                } else if (ones.length === 16) {
                    expressionDiv.textContent = 'F = 1 (función siempre verdadera)';
                } else {
                    expressionDiv.textContent = `F = Σ(${ones.join(',')}) - Usa "Agrupar" para simplificar`;
                }
            }
        }
        
        // Función para configurar event listeners de celdas (se llamará después de DOMContentLoaded)
        function setupKarnaughCellListeners() {
            document.addEventListener('click', function(event) {
                if (event.target.classList.contains('karnaugh-cell')) {
                    const dataIndex = parseInt(event.target.getAttribute('data-index'));
                    if (dataIndex >= 0 && dataIndex < 16) {
                        window.karnaughState[dataIndex] = window.karnaughState[dataIndex] === 0 ? 1 : 0;
                        // Limpiar agrupaciones al cambiar celdas
                        window.groupedCells = [];
                        updateKarnaughDisplayGlobal();
                        updateExpressionGlobal();
                        console.log(`🖱️ Celda ${dataIndex} cambiada a ${window.karnaughState[dataIndex]}`);
                    }
                }
            });
            console.log('✅ Event listeners de celdas Karnaugh configurados');
        }
        
        // Funciones para los botones del mapa de Karnaugh
        function clearMap() {
            console.log('🔄 Limpiando mapa de Karnaugh');
            for (let i = 0; i < 16; i++) {
                window.karnaughState[i] = 0;
            }
            window.groupedCells = [];
            updateKarnaughDisplayGlobal();
            updateExpressionGlobal();
            const expressionDiv = document.getElementById('karnaughExpression');
            if (expressionDiv) {
                expressionDiv.textContent = 'Mapa limpio - Haz clic en las celdas para agregar 1s';
            }
        }

        function loadExample() {
            console.log('📝 Cargando ejemplo en mapa de Karnaugh');
            // Cargar ejemplo: F = Σ(0,2,5,7,8,10,13,15)
            const exampleIndices = [0, 2, 5, 7, 8, 10, 13, 15];
            
            // Limpiar primero
            for (let i = 0; i < 16; i++) {
                window.karnaughState[i] = 0;
            }
            
            // Cargar ejemplo
            exampleIndices.forEach(index => {
                window.karnaughState[index] = 1;
            });
            
            window.groupedCells = [];
            updateKarnaughDisplayGlobal();
            updateExpressionGlobal();
            const expressionDiv = document.getElementById('karnaughExpression');
            if (expressionDiv) {
                expressionDiv.textContent = 'Ejemplo cargado: F = Σ(0,2,5,7,8,10,13,15) - Usa "Agrupar" para simplificar';
            }
        }

        function findGroups() {
            console.log('🔍 Encontrando grupos en mapa de Karnaugh');
            window.groupedCells = [];
            const groups = [];
            
            // Buscar grupos de 4 horizontales
            const horizontalGroups = [
                [0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11], [12, 13, 14, 15]
            ];
            
            horizontalGroups.forEach(group => {
                if (checkGroupGlobal(group)) {
                    groups.push(group);
                    window.groupedCells.push(...group);
                }
            });
            
            // Buscar grupos de 4 verticales
            const verticalGroups = [
                [0, 4, 8, 12], [1, 5, 9, 13], [2, 6, 10, 14], [3, 7, 11, 15]
            ];
            
            verticalGroups.forEach(group => {
                if (checkGroupGlobal(group) && !group.some(cell => window.groupedCells.includes(cell))) {
                    groups.push(group);
                    window.groupedCells.push(...group);
                }
            });
            
            // Buscar grupos de 2
            const pairs = [
                [0, 1], [1, 3], [2, 3], [0, 2],
                [4, 5], [5, 7], [6, 7], [4, 6],
                [8, 9], [9, 11], [10, 11], [8, 10],
                [12, 13], [13, 15], [14, 15], [12, 14],
                [0, 4], [1, 5], [2, 6], [3, 7],
                [4, 12], [5, 13], [6, 14], [7, 15],
                [8, 12], [9, 13], [10, 14], [11, 15]
            ];
            
            pairs.forEach(pair => {
                if (checkGroupGlobal(pair) && !pair.some(cell => window.groupedCells.includes(cell))) {
                    groups.push(pair);
                    window.groupedCells.push(...pair);
                }
            });
            
            updateKarnaughDisplayGlobal();
            const expressionDiv = document.getElementById('karnaughExpression');
            if (expressionDiv) {
                if (groups.length > 0) {
                    expressionDiv.textContent = `${groups.length} grupo(s) encontrado(s) - Usa "Expresión" para ver la función simplificada`;
                } else {
                    expressionDiv.textContent = 'No se encontraron grupos - Los 1s están muy dispersos';
                }
            }
        }

        function showExpression() {
            console.log('📋 Mostrando expresión del mapa de Karnaugh');
            const expressionDiv = document.getElementById('karnaughExpression');
            const ones = window.karnaughState.map((val, idx) => val === 1 ? idx : -1).filter(idx => idx !== -1);
            
            if (ones.length === 0) {
                if (expressionDiv) expressionDiv.textContent = 'F = 0 (función siempre falsa)';
                return;
            }
            
            if (ones.length === 16) {
                if (expressionDiv) expressionDiv.textContent = 'F = 1 (función siempre verdadera)';
                return;
            }
            
            // Casos específicos conocidos
            const sortedOnes = ones.sort((a, b) => a - b);
            let expression = 'F = ';
            
            // Detectar patrones específicos
            if (JSON.stringify(sortedOnes) === JSON.stringify([0,2,5,7,8,10,13,15])) {
                expression += 'C̄D̄ + CD̄ + BC̄D + BCD (forma simplificada basada en agrupaciones)';
            } else if (ones.length === 8) {
                // Analizar mitades y cuartos
                const topHalf = [0, 1, 2, 3, 4, 5, 6, 7];
                const bottomHalf = [8, 9, 10, 11, 12, 13, 14, 15];
                const leftHalf = [0, 1, 4, 5, 8, 9, 12, 13];
                const rightHalf = [2, 3, 6, 7, 10, 11, 14, 15];
                
                if (ones.every(i => topHalf.includes(i))) {
                    expression += 'Ā (fila superior completa)';
                } else if (ones.every(i => bottomHalf.includes(i))) {
                    expression += 'A (fila inferior completa)';
                } else if (ones.every(i => leftHalf.includes(i))) {
                    expression += 'C̄ (columnas izquierdas)';
                } else if (ones.every(i => rightHalf.includes(i))) {
                    expression += 'C (columnas derechas)';
                } else {
                    // Mostrar suma de mintérminos
                    expression += `Σ(${sortedOnes.join(',')}) - Usa "Agrupar" para detectar simplificaciones`;
                }
            } else if (ones.length <= 4) {
                // Verificar grupos simples
                const groupTerm = analyzeSmallGroupGlobal(sortedOnes);
                if (groupTerm) {
                    expression += groupTerm;
                } else {
                    expression += `Σ(${sortedOnes.join(',')}) - ${ones.length} término(s)`;
                }
            } else {
                // Casos complejos
                expression += `Σ(${sortedOnes.join(',')}) - Usa "Agrupar" para simplificar (${ones.length} términos)`;
            }
            
            if (expressionDiv) {
                expressionDiv.innerHTML = `<strong>📋 Expresión:</strong> ${expression}`;
            }
        }
        
        // Función auxiliar para analizar grupos pequeños
        function analyzeSmallGroupGlobal(ones) {
            if (ones.length === 1) {
                return indexToMintermGlobal(ones[0]);
            }
            
            // Verificar pares adyacentes comunes
            const commonPairs = {
                '0,1': 'ĀB̄C̄',  '2,3': 'ĀB̄C',   '4,5': 'ĀBC̄',   '6,7': 'ĀBC',
                '8,9': 'AB̄C̄',  '10,11': 'AB̄C', '12,13': 'ABC̄', '14,15': 'ABC',
                '0,4': 'ĀB̄D̄',  '1,5': 'ĀB̄D',   '2,6': 'ĀBD̄',   '3,7': 'ĀBD',
                '8,12': 'AB̄D̄', '9,13': 'AB̄D',  '10,14': 'ABD̄', '11,15': 'ABD'
            };
            
            const pairKey = ones.join(',');
            if (commonPairs[pairKey]) {
                return commonPairs[pairKey];
            }
            
            // Para grupos más complejos
            return null;
        }
        
        // Funciones auxiliares globales
        function checkGroupGlobal(indices) {
            return indices.every(index => window.karnaughState[index] === 1);
        }
        
        function indexToMintermGlobal(index) {
            const binary = index.toString(2).padStart(4, '0');
            let term = '';
            const vars = ['A', 'B', 'C', 'D'];
            
            for (let i = 0; i < 4; i++) {
                if (binary[i] === '0') {
                    term += vars[i] + '̄';
                } else {
                    term += vars[i];
                }
            }
            return term;
        }
        
        function analyzeGroup4Global(ones) {
            const patterns = {
                'top_row': [0, 1, 2, 3],
                'second_row': [4, 5, 6, 7], 
                'third_row': [12, 13, 14, 15],
                'bottom_row': [8, 9, 10, 11],
                'left_col': [0, 4, 8, 12],
                'mid_left_col': [1, 5, 9, 13],
                'mid_right_col': [3, 7, 11, 15],
                'right_col': [2, 6, 10, 14]
            };
            
            for (const [name, pattern] of Object.entries(patterns)) {
                if (ones.length === 4 && ones.every(i => pattern.includes(i)) && pattern.every(i => ones.includes(i))) {
                    switch(name) {
                        case 'top_row': return 'ĀB̄';
                        case 'second_row': return 'ĀB';
                        case 'third_row': return 'AB';
                        case 'bottom_row': return 'AB̄';
                        case 'left_col': return 'C̄D̄';
                        case 'mid_left_col': return 'C̄D';
                        case 'mid_right_col': return 'CD';
                        case 'right_col': return 'CD̄';
                    }
                }
            }
            return null;
        }
        
        function generateTermsFromGroups() {
            // Analizar grupos y generar términos aproximados
            // Esta es una simplificación - en una implementación real sería más compleja
            const terms = [];
            
            if (window.groupedCells.length >= 4) {
                // Agrupar los índices en grupos de 4
                const groups = [];
                for (let i = 0; i < window.groupedCells.length; i += 4) {
                    groups.push(window.groupedCells.slice(i, i + 4));
                }
                
                groups.forEach(group => {
                    const groupTerm = analyzeGroup4Global(group);
                    if (groupTerm) {
                        terms.push(groupTerm);
                    }
                });
            }
            
            if (terms.length === 0) {
                terms.push('expresión simplificada');
            }
            
            return terms;
        }
        
        // Funciones para elementos interactivos
        function toggleClippy(element) {
            const content = element.querySelector('.clippy-content');
            if (content) {
                content.classList.toggle('active');
            }
        }

        function toggleCollapsible(button) {
            const content = button.nextElementSibling;
            const span = button.querySelector('span');
            
            if (content) {
                content.classList.toggle('active');
                button.classList.toggle('active');
                
                if (span) {
                    span.textContent = content.classList.contains('active') ? '▲' : '▼';
                }
            }
        }
        
        // Esperar a que el DOM esté completamente cargado
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM cargado, inicializando controles...');
            
            // Navegación entre diapositivas
            let currentSlideIndex = 0;
            let slides = document.querySelectorAll('.slide');
            const totalSlides = slides.length;
            
            console.log(`Total de diapositivas encontradas: ${totalSlides}`);
            
            // Función para cambiar diapositivas
            function changeSlide(direction) {
                slides[currentSlideIndex].classList.remove('active');
                currentSlideIndex += direction;
                
                if (currentSlideIndex < 0) {
                    currentSlideIndex = 0;
                } else if (currentSlideIndex >= totalSlides) {
                    currentSlideIndex = totalSlides - 1;
                }
                
                slides[currentSlideIndex].classList.add('active');
                updateSlideDisplay();
                console.log(`Navegando a diapositiva: ${currentSlideIndex + 1}/${totalSlides}`);
            }
            
            function updateSlideDisplay() {
                const currentSlideElement = document.getElementById("currentSlide");
                const totalSlidesElement = document.getElementById("totalSlides");
                const progressBar = document.getElementById("progressBar");
                
                if (currentSlideElement) {
                    currentSlideElement.textContent = currentSlideIndex + 1;
                }
                
                if (totalSlidesElement) {
                    totalSlidesElement.textContent = totalSlides;
                }
                
                if (progressBar) {
                    const progress = ((currentSlideIndex + 1) / totalSlides) * 100;
                    progressBar.style.width = progress + '%';
                }
                
                const prevBtn = document.getElementById("prevBtn");
                const nextBtn = document.getElementById("nextBtn");
                
                if (prevBtn) {
                    prevBtn.style.opacity = currentSlideIndex > 0 ? '1' : '0.5';
                    prevBtn.disabled = currentSlideIndex <= 0;
                }
                
                if (nextBtn) {
                    nextBtn.style.opacity = currentSlideIndex < totalSlides - 1 ? '1' : '0.5';
                    nextBtn.disabled = currentSlideIndex >= totalSlides - 1;
                }
            }
            
            // Event listeners para navegación
            const prevBtn = document.getElementById("prevBtn");
            const nextBtn = document.getElementById("nextBtn");
            
            if (prevBtn) {
                prevBtn.addEventListener("click", function() {
                    console.log('Botón anterior clickeado');
                    changeSlide(-1);
                });
                console.log('Event listener agregado al botón anterior');
            }
            
            if (nextBtn) {
                nextBtn.addEventListener("click", function() {
                    console.log('Botón siguiente clickeado');
                    changeSlide(1);
                });
                console.log('Event listener agregado al botón siguiente');
            }
            
            // Temporizador
            let timer = 2400;
            let timerInterval = null;
            const timerDisplay = document.getElementById("timeRemaining");
            
            function formatTime(seconds) {
                const mins = String(Math.floor(seconds / 60)).padStart(2, '0');
                const secs = String(seconds % 60).padStart(2, '0');
                return `${mins}:${secs}`;
            }
            
            function updateTimer() {
                if (timer > 0) {
                    timer--;
                    if (timerDisplay) {
                        timerDisplay.textContent = formatTime(timer);
                    }
                } else {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    console.log('Tiempo agotado');
                }
            }
            
            const startBtn = document.getElementById("startBtn");
            const pauseBtn = document.getElementById("pauseBtn");
            const resetBtn = document.getElementById("resetBtn");
            
            if (startBtn) {
                startBtn.addEventListener("click", function() {
                    console.log('Temporizador iniciado');
                    if (!timerInterval) {
                        timerInterval = setInterval(updateTimer, 1000);
                    }
                });
            }
            
            if (pauseBtn) {
                pauseBtn.addEventListener("click", function() {
                    console.log('Temporizador pausado');
                    if (timerInterval) {
                        clearInterval(timerInterval);
                        timerInterval = null;
                    }
                });
            }
            
            if (resetBtn) {
                resetBtn.addEventListener("click", function() {
                    console.log('Temporizador reiniciado');
                    if (timerInterval) {
                        clearInterval(timerInterval);
                        timerInterval = null;
                    }
                    timer = 2400;
                    if (timerDisplay) {
                        timerDisplay.textContent = formatTime(timer);
                    }
                });
            }
            
            // Inicializar
            updateSlideDisplay();
            if (timerDisplay) {
                timerDisplay.textContent = formatTime(timer);
            }
            initKarnaughMapGlobal();
            
            // Configurar event listeners para celdas del mapa de Karnaugh
            setupKarnaughCellListeners();
            
            console.log('✅ Controles inicializados correctamente');
            
            // Navegación con teclado
            document.addEventListener('keydown', function(event) {
                switch(event.key) {
                    case 'ArrowLeft':
                        changeSlide(-1);
                        break;
                    case 'ArrowRight':
                        changeSlide(1);
                        break;
                    case ' ':
                        event.preventDefault();
                        changeSlide(1);
                        break;
                }
            });
        });
    </script>
</body>
</html>
